<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>antiutils</title>
	<meta name="description" content="Documentation for antiutils">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">antiutils</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>antiutils</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#antiutils" id="antiutils" style="color: inherit; text-decoration: none;">
					<h1>Antiutils</h1>
				</a>
				<p><a href="https://badge.fury.io/js/antiutils"><img src="https://badge.fury.io/js/antiutils.svg" alt="npm version"></a>
					<a href="https://bundlephobia.com/result?p=antiutils"><img src="https://badgen.net/bundlephobia/minzip/antiutils?color=green" alt="gzip size"></a>
				<a href="https://bundlephobia.com/result?p=antiutils"><img src="https://badgen.net/bundlephobia/tree-shaking/antiutils" alt="gzip size"></a></p>
				<p>TypeScript/JavaScript utilities for those who don&#39;t like utilities.</p>
				<ul>
					<li><p><a href="#minimal-api">Minimal API</a></p>
					</li>
					<li><p><a href="#pipeline-operator-ponyfill">Pipeline operator ponyfill</a></p>
					</li>
					<li><p><a href="#objects-arrays-maps-and-sets">Non-mutating functions for working with objects, arrays, maps, and sets</a></p>
					</li>
					<li><p><a href="#iterables">Functions for working with native <code>Iterable</code>s</a></p>
					</li>
					<li><p><a href="#comparison-functions">Comparison functions</a></p>
					</li>
					<li><p><a href="#reducers">Reducers</a></p>
					</li>
					<li><p><a href="#lenses">Lenses</a></p>
					</li>
					<li><p><a href="#memoization">Memoization utilities</a></p>
					</li>
					<li><p><a href="#functions-for-downcasting">Functions for downcasting</a></p>
					</li>
				</ul>
				<a href="#installing" id="installing" style="color: inherit; text-decoration: none;">
					<h2>Installing</h2>
				</a>
				<pre><code>yarn <span class="hljs-keyword">add</span><span class="bash"> antiutils</span></code></pre>
				<p>or</p>
				<pre><code>npm <span class="hljs-keyword">install</span> antiutils <span class="hljs-comment">--save</span></code></pre>
				<a href="#minimal-api" id="minimal-api" style="color: inherit; text-decoration: none;">
					<h2>Minimal API</h2>
				</a>
				<p>Based on the &quot;only one way to do it&quot; principle, this library provides a utility only when something can&#39;t be easily and readably done with vanilla JavaScript. For example, we do not provide a function to get an object&#39;s property value, so instead of <code>get(&#39;a&#39;)</code> you would just write <code>value =&gt; value.a</code>. This is because we see the mental overhead of choosing among multiple ways to write a piece of code as higher cost compared to doing more typing.</p>
				<p>That said, we do sometimes provide a shortcut for what would otherwise be a one-liner, such as <code>lastInIterable</code> for <code>reduceIterable((...[, value]) =&gt; value)</code> - not for conciseness or performance, but to improve readability.</p>
				<a href="#pipeline-operator-ponyfill" id="pipeline-operator-ponyfill" style="color: inherit; text-decoration: none;">
					<h2>Pipeline operator <a href="https://ponyfill.com/">ponyfill</a></h2>
				</a>
				<p>The library includes a function <code>applyPipe</code> which takes between 1 and 12 arguments: <code>applyPipe(x, a, b)</code> is equivalent to <code>b(a(x))</code>, or using the pipeline operator, <code>x |&gt; a |&gt; b</code>. Type inference works well with this function, and if any one of the proposed flavors of the pipeline operator eventually reaches stage 3 and starts to be supported in TypeScript, it would be straightforward to build a codemod to convert this function to the operator.</p>
				<p>The library intentionally doesn&#39;t include a <code>pipe</code> function that would compose functions without applying the resulting function to an argument, mainly because this would go against &quot;only one way to do it&quot;.</p>
				<a href="#objects-arrays-maps-and-sets" id="objects-arrays-maps-and-sets" style="color: inherit; text-decoration: none;">
					<h2>Objects, arrays, maps and sets</h2>
				</a>
				<p>The library includes non-mutating functions for working with <a href="https://github.com/ivan7237d/antiutils/tree/master/src/internal/object">objects</a>, <a href="https://github.com/ivan7237d/antiutils/tree/master/src/internal/array">arrays</a>, <a href="https://github.com/ivan7237d/antiutils/tree/master/src/internal/map">maps</a>, and <a href="https://github.com/ivan7237d/antiutils/tree/master/src/internal/set">sets</a>.</p>
				<blockquote>
					<p>:bulb: TIP</p>
					<p>If you use TypeScript 4.1+, make sure you enable strictly checked indexed access using <a href="https://devblogs.microsoft.com/typescript/announcing-typescript-4-1-rc/#no-unchecked-indexed-access"><code>--noUncheckedIndexedAccess</code> compiler flag</a>.</p>
				</blockquote>
				<a href="#iterables" id="iterables" style="color: inherit; text-decoration: none;">
					<h2>Iterables</h2>
				</a>
				<p><a href="https://github.com/ivan7237d/antiutils/tree/master/src/internal/iterable">Functions for working with iterables</a> have signatures that try to stay close to corresponding native array methods and RxJS operators.</p>
				<p>How-to:</p>
				<ul>
					<li><p><strong>Filter an iterable in a way that the type system understands:</strong></p>
						<pre><code class="language-ts">applyPipe(
  [<span class="hljs-number">1</span>, <span class="hljs-literal">undefined</span>],
  <span class="hljs-comment">// Equivalent to `filterIterable((value) =&gt; value !== undefined)`.</span>
  flatMapIterable(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> (value !== <span class="hljs-literal">undefined</span> ? [value] : [])),
);</code></pre>
						<p>(type will be inferred as <code>Iterable&lt;number&gt;</code>, not <code>Iterable&lt;number | undefined&gt;</code> as would be the case if you used <code>filterIterable</code>; the same trick works when filtering arrays and observables).</p>
					</li>
					<li><p><strong>Index elements:</strong> <code>zipIterables(rangeIterable(), yourIterable)</code> (returns an iterable of <code>[&lt;element index&gt;, &lt;element&gt;]</code>).</p>
					</li>
					<li><p><strong>Get a flag indicating if the element is the first element:</strong> <code>zipIterables(firstIterable, yourIterable)</code> (returns an iterable of <code>[boolean, &lt;element&gt;]</code>).</p>
					</li>
					<li><p><strong>Count elements in an iterable:</strong>: <code>applyPipe(yourIterable, reduceIterable(countReducer, 0))</code>.</p>
					</li>
					<li><p><strong>Check if every element in an iterable is true:</strong> <code>applyPipe(yourIterableOfBooleans, reduceIterable(andReducer, true))</code> (iteration will not continue unnecessarily because of <a href="#reducers">how a reducer is defined</a>).</p>
					</li>
					<li><p><strong>Check if some elements in an iterable are true:</strong> <code>applyPipe(yourIterableOfBooleans, reduceIterable(orReducer, false))</code>.</p>
					</li>
					<li><p><strong>Find the first element matching a predicate:</strong> <code>applyPipe(yourIterable, filter(yourPredicate), firstInIterable)</code>.</p>
					</li>
					<li><p><strong>Same as above, but throw an error if the iterable has multiple matching elements:</strong> <code>applyPipe(yourIterable, filter(yourPredicate), reduceIterable(asContext(() =&gt; { throw yourError; })))</code> (<code>asContext</code> is described in the section <a href="#functions-for-downcasting">&quot;Functions for downcasting&quot;</a>).</p>
					</li>
					<li><p><strong>Yield values while a condition holds:</strong></p>
						<pre><code class="language-ts">applyPipe(
  [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>],
  scanIterable(<span class="hljs-function">(<span class="hljs-params">...[, value]</span>) =&gt;</span> (value &lt;= <span class="hljs-number">2</span> ? value : <span class="hljs-literal">undefined</span>)),
);</code></pre>
						<p>(yields <code>1</code>, <code>2</code>, see <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/iterable/scanIterable.ts"><code>scanIterable</code></a>).</p>
					</li>
					<li><p><strong>Also yield the value that broke the condition:</strong></p>
						<pre><code class="language-ts">applyPipe(
  [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>],
  scanIterable(<span class="hljs-function">(<span class="hljs-params">accumulator, value</span>) =&gt;</span>
    accumulator &lt;= <span class="hljs-number">2</span> ? value : <span class="hljs-literal">undefined</span>,
  ),
);</code></pre>
						<p>(yields <code>1</code>, <code>2</code>, <code>3</code>).</p>
					</li>
				</ul>
				<a href="#comparison-functions" id="comparison-functions" style="color: inherit; text-decoration: none;">
					<h2>Comparison functions</h2>
				</a>
				<p>The library exports types</p>
				<pre><code class="language-ts"><span class="hljs-keyword">type</span> CompareFunction&lt;T&gt; = <span class="hljs-function">(<span class="hljs-params">to: T, <span class="hljs-keyword">from</span>: T</span>) =&gt;</span> <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">type</span> EqualFunction&lt;T&gt; = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">from</span>: T, to: T</span>) =&gt;</span> <span class="hljs-built_in">boolean</span>;</code></pre>
				<p>It <a href="https://github.com/ivan7237d/antiutils/tree/master/src/internal/compare">provides</a> implementations of <code>CompareFunction</code> for primitive types and a function <code>lexicographicCompare</code> to compose <code>CompareFunction</code>s.</p>
				<p>It also provides implementations of <code>EqualFunction</code> for objects, iterables, maps, and sets, and a function <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/deepEqual.ts"><code>deepEqual</code></a> that recursively delegates to those functions depending on the object type.</p>
				<a href="#reducers" id="reducers" style="color: inherit; text-decoration: none;">
					<h2>Reducers</h2>
				</a>
				<p>The library exports a type</p>
				<pre><code class="language-ts"><span class="hljs-keyword">type</span> Reducer&lt;Accumulator, Element&gt; = <span class="hljs-function">(<span class="hljs-params">
  accumulator: Accumulator,
  element: Element,
</span>) =&gt;</span> Accumulator | <span class="hljs-literal">undefined</span>;</code></pre>
				<p>which is like a regular reducer, but can return <code>undefined</code> to stop the iteration short, and which is used by functions <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/iterable/reduceIterable.ts"><code>reduceIterable</code></a> and <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/iterable/scanIterable.ts"><code>scanIterable</code></a>.</p>
				<p>The library includes <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/reducer">basic implementations of this type</a>, all of which except the boolean ones (<code>andReducer</code> and <code>orReducer</code>) can also be used with arrays and observables.</p>
				<a href="#lenses" id="lenses" style="color: inherit; text-decoration: none;">
					<h2>Lenses</h2>
				</a>
				<p>First let&#39;s talk about how we define a lens. When building UI components, it&#39;s convenient to work with a type which we&#39;ll call <code>StateView</code>, a combination of a getter and a setter:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">type</span> StateView&lt;A&gt; = { <span class="hljs-attr">get</span>: <span class="hljs-function">() =&gt;</span> A; set: <span class="hljs-function">(<span class="hljs-params">value: A</span>) =&gt;</span> <span class="hljs-built_in">void</span> };</code></pre>
				<p>For example in the case of React, this shape is close to values returned by <code>useState</code> hook, and it is also what you would want to pass to an input element such as a textbox to create a two-way binding. In this library we actually define <code>StateView</code> as a subtype of another type called <code>View</code>:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">type</span> View&lt;S, A&gt; = { <span class="hljs-attr">get</span>: <span class="hljs-function">() =&gt;</span> A; set: <span class="hljs-function">(<span class="hljs-params">value: A</span>) =&gt;</span> S };
<span class="hljs-keyword">type</span> StateView&lt;A&gt; = View&lt;<span class="hljs-built_in">void</span>, A&gt;;</code></pre>
				<p>and we define a <code>Lens</code> as a function that transforms a view into another view:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">type</span> Lens&lt;S, A, B&gt; = <span class="hljs-function">(<span class="hljs-params">source: View&lt;S, A&gt;</span>) =&gt;</span> View&lt;S, B&gt;;</code></pre>
				<p>This way a lens can be used in the traditional way, as in the below example of a reducer, but it can also be used to convert a <code>StateView</code> into another <code>StateView</code>, as demonstrated in the README for <a href="https://github.com/ivan7237d/antiutils-react"><code>antiutils-react</code></a>, a package that provides glue between Antiutils and React.</p>
				<p>The library provides the following functions:</p>
				<ul>
					<li><p><a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/object/objectProp.ts"><code>objectProp</code></a>: a lens to zoom in on an object&#39;s property.</p>
					</li>
					<li><p><a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/map/mapProp.ts"><code>mapProp</code></a>: a lens to zoom in on a value stored in a <code>Map</code>.</p>
					</li>
					<li><p><a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/set/setProp.ts"><code>setProp</code></a>: a lens to zoom in on presence of an element in a <code>Set</code>.</p>
					</li>
					<li><p><a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/view/rootView.ts"><code>rootView</code></a>: a function that converts a <code>value</code> into a view <code>{ get: () =&gt; value, set: &lt;identity function&gt; }</code>.</p>
					</li>
				</ul>
				<p>Usage example:</p>
				<pre><code class="language-ts"><span class="hljs-keyword">type</span> State = { <span class="hljs-attr">a</span>: { <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span>; c: <span class="hljs-built_in">string</span> } };

<span class="hljs-comment">/**
 * A reducer that sets the value of `b` in the state to the value provided
 * as action payload.
 **/</span>
<span class="hljs-keyword">const</span> sampleReducer = <span class="hljs-function">(<span class="hljs-params">state: State, action: { payload: <span class="hljs-built_in">string</span> }</span>) =&gt;</span>
  applyPipe(
    <span class="hljs-comment">// Returns `View&lt;State, State&gt;`.</span>
    rootView(state),
    <span class="hljs-comment">// Transforms values into `View&lt;State, { b: string; c: string }&gt;`.</span>
    objectProp(<span class="hljs-string">&#x27;a&#x27;</span>),
    <span class="hljs-comment">// Transforms values into `View&lt;State, string&gt;`.</span>
    objectProp(<span class="hljs-string">&#x27;b&#x27;</span>),
  )
    <span class="hljs-comment">// `set` takes a value for `b` and returns a new `State`.</span>
    .set(action.payload);

expect(sampleReducer({ <span class="hljs-attr">a</span>: { <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">c</span>: <span class="hljs-string">&#x27;&#x27;</span> } }, { <span class="hljs-attr">payload</span>: <span class="hljs-string">&#x27;x&#x27;</span> })).toEqual({
  <span class="hljs-attr">a</span>: { <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-attr">c</span>: <span class="hljs-string">&#x27;&#x27;</span> },
});</code></pre>
				<p>In the code above, TypeScript successfully infers the types, and as we get to a point where we need to type &#39;a&#39;, &#39;b&#39;, or &#39;c&#39;, IntelliSense shows correct suggestions.</p>
				<p>Example of usage with optional properties:</p>
				<pre><code class="language-ts"><span class="hljs-comment">// Note the optional `a`.</span>
<span class="hljs-keyword">type</span> State = { a?: { <span class="hljs-attr">b</span>: <span class="hljs-built_in">string</span>; c: <span class="hljs-built_in">string</span> } };

<span class="hljs-keyword">const</span> sampleReducer = <span class="hljs-function">(<span class="hljs-params">state: State, action: { payload: <span class="hljs-built_in">string</span> }</span>) =&gt;</span>
  applyPipe(
    rootView(state),
    <span class="hljs-comment">// Transforms values into `View&lt;State, { b: string; c: string } |</span>
    <span class="hljs-comment">// undefined&gt;`.</span>
    objectProp(<span class="hljs-string">&#x27;a&#x27;</span>),
    <span class="hljs-comment">// Transforms values into `View&lt;State, { b: string; c: string }&gt;`.</span>
    <span class="hljs-function">(<span class="hljs-params">{ get, set }</span>) =&gt;</span> ({
      <span class="hljs-attr">get</span>: <span class="hljs-function">() =&gt;</span> get() ?? { <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">c</span>: <span class="hljs-string">&#x27;&#x27;</span> },
      set,
    }),
    objectProp(<span class="hljs-string">&#x27;b&#x27;</span>),
  ).set(action.payload);

expect(sampleReducer({}, { <span class="hljs-attr">payload</span>: <span class="hljs-string">&#x27;x&#x27;</span> })).toEqual({
  <span class="hljs-attr">a</span>: { <span class="hljs-attr">b</span>: <span class="hljs-string">&#x27;x&#x27;</span>, <span class="hljs-attr">c</span>: <span class="hljs-string">&#x27;&#x27;</span> },
});</code></pre>
				<a href="#memoization" id="memoization" style="color: inherit; text-decoration: none;">
					<h2>Memoization</h2>
				</a>
				<p>The library provides utilities <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/memoize/memoizeWeak.ts"><code>memoizeWeak</code></a> and <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/memoize/memoizeStrong.ts"><code>memoizeStrong</code></a> to memoize functions that take a single argument. Internally they cache results in respectively a WeakMap and a Map, with arguments as keys and results as values. <code>memoizeWeak</code> has an advantage that retaining a reference to the memoized function will not prevent cached arguments and results from being garbage-collected, but it can only memoize functions that take objects (not primitive values) as arguments, because only objects can be used as keys in a WeakMap.</p>
				<blockquote>
					<p>:bulb: TIP</p>
					<p>You can combine <code>memoizeWeak</code> and <code>memoizeStrong</code> to memoize a function that takes multiple arguments, some of them primitive values, e.g.</p>
					<pre><code class="language-ts"><span class="hljs-keyword">const</span> original = <span class="hljs-function">(<span class="hljs-params">x: { a: <span class="hljs-built_in">number</span> }, y: <span class="hljs-built_in">number</span></span>) =&gt;</span> x.a + y;
<span class="hljs-keyword">const</span> memoized = memoizeWeak(<span class="hljs-function">(<span class="hljs-params">x: { a: <span class="hljs-built_in">number</span> }</span>) =&gt;</span>
  memoizeStrong(<span class="hljs-function">(<span class="hljs-params">y: <span class="hljs-built_in">number</span></span>) =&gt;</span> original(x, y)),
);
<span class="hljs-keyword">const</span> withRestoredSignature = <span class="hljs-function">(<span class="hljs-params">x: { a: <span class="hljs-built_in">number</span> }, y: <span class="hljs-built_in">number</span></span>) =&gt;</span> memoized(x)(y);</code></pre>
				</blockquote>
				<p>The library also provides a function <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/memoize/teach.ts"><code>teach</code></a> for cases when you need to teach a memoized function to return a result already known from an external source such as persisted storage, and a function <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/memoize/knows.ts"><code>knows</code></a> to check if there is a cached result for a given argument.</p>
				<a href="#functions-for-downcasting" id="functions-for-downcasting" style="color: inherit; text-decoration: none;">
					<h2>Functions for downcasting</h2>
				</a>
				<p>The library provides the following identity functions that cast the argument to a type, but unlike TypeScript&#39;s <code>as</code>, never make type assertions:</p>
				<ul>
					<li><p><a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/asNever.ts"><code>asNever</code></a>: a function which has signature <code>(value: never) =&gt; never </code> and which throws if called, used to typecheck that a symbol has type <code>never</code> and therefore the call site is unreachable. For example, if <code>a</code> has type <code>0 | 1</code>, you could write <code>a === 0 ? &#39;zero&#39; : a === 1 ? &#39;one&#39; : asNever(a)</code> to make sure that all possibilities for <code>a</code> have been exhausted. If the type of <code>a</code> changes to say <code>0 | 1 | 2</code>, the type of the argument passed to <code>asNever</code> will be inferred as <code>2</code>, and this will cause a typechecking error because the only type assignable to <code>never</code> is <code>never</code> itself.</p>
					</li>
					<li><p><a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/as.ts"><code>as</code></a>: an identity function with signature <code>&lt;T&gt;(value: T) =&gt; T</code> that can be used to downcast a value to a non-generic type: <code>as&lt;YourType&gt;(yourValue)</code>.</p>
					</li>
					<li><p><a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/asContext.ts"><code>asContext</code></a>: an identity function with signature <code>&lt;A, B extends A&gt;(value: B) =&gt; A</code> that can be used to infer the type of a value from the context instead of the other way around. Consider the following example:</p>
						<pre><code class="language-ts"><span class="hljs-keyword">const</span> every = (iterable: Iterable&lt;<span class="hljs-built_in">boolean</span>&gt;): <span class="hljs-function"><span class="hljs-params">boolean</span> =&gt;</span>
  applyPipe(iterable, reduceIterable(andReducer, <span class="hljs-literal">true</span>));</code></pre>
						<p>The above code will not typecheck because TypeScript will look at the seed <code>true</code> and infer the type of the accumulator as <code>true</code>, but it should be <code>boolean</code> because <code>andReducer</code> can return either <code>true</code> or <code>false</code>. Replacing the seed <code>true</code> with <code>asContext(true)</code> solves the problem.</p>
					</li>
					<li><p><a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/asCompareFunction.ts"><code>asCompareFunction</code></a>, <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/asEqualFunction.ts"><code>asEqualFunction</code></a>, <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/asLens.ts"><code>asLens</code></a>, <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/asReducer.ts"><code>asReducer</code></a>, <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/asStateView.ts"><code>asStateView</code></a>, <a href="https://github.com/ivan7237d/antiutils/blob/master/src/internal/types/asView.ts"><code>asView</code></a>: identity functions that can be used to downcast values to any of the generic types defined by the library.</p>
					</li>
				</ul>
				<hr>
				<p><a href="https://github.com/ivan7237d/antiutils/blob/master/.github/CONTRIBUTING.md">Contributing guidelines</a></p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-interface tsd-has-type-parameter tsd-is-external">
						<a href="interfaces/objectfromentries.html" class="tsd-kind-icon">Object<wbr>From<wbr>Entries</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-is-external">
						<a href="globals.html#applypipe" class="tsd-kind-icon">Apply<wbr>Pipe</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#comparefunction" class="tsd-kind-icon">Compare<wbr>Function</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#equalfunction" class="tsd-kind-icon">Equal<wbr>Function</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#lens" class="tsd-kind-icon">Lens</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#reducer" class="tsd-kind-icon">Reducer</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#stateview" class="tsd-kind-icon">State<wbr>View</a>
					</li>
					<li class=" tsd-kind-type-alias tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#view" class="tsd-kind-icon">View</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#ascomparefunction" class="tsd-kind-icon">as<wbr>Compare<wbr>Function</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#ascontext" class="tsd-kind-icon">as<wbr>Context</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#asequalfunction" class="tsd-kind-icon">as<wbr>Equal<wbr>Function</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#aslens" class="tsd-kind-icon">as<wbr>Lens</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#asreducer" class="tsd-kind-icon">as<wbr>Reducer</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#asstateview" class="tsd-kind-icon">as<wbr>State<wbr>View</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#asview" class="tsd-kind-icon">as<wbr>View</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#memoizecache" class="tsd-kind-icon">memoize<wbr>Cache</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#objectfromentries" class="tsd-kind-icon">object<wbr>From<wbr>Entries</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-external">
						<a href="globals.html#objectfromentriesponyfill" class="tsd-kind-icon">object<wbr>From<wbr>Entries<wbr>Ponyfill</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#addtoset" class="tsd-kind-icon">add<wbr>ToSet</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#andreducer" class="tsd-kind-icon">and<wbr>Reducer</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#applypipe" class="tsd-kind-icon">apply<wbr>Pipe</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#as" class="tsd-kind-icon">as</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#asnever" class="tsd-kind-icon">as<wbr>Never</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#booleancompare" class="tsd-kind-icon">boolean<wbr>Compare</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#concatiterables" class="tsd-kind-icon">concat<wbr>Iterables</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#countreducer" class="tsd-kind-icon">count<wbr>Reducer</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#deepequal" class="tsd-kind-icon">deep<wbr>Equal</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#deletefrommap" class="tsd-kind-icon">delete<wbr>From<wbr>Map</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#deletefromset" class="tsd-kind-icon">delete<wbr>From<wbr>Set</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#diffmaps" class="tsd-kind-icon">diff<wbr>Maps</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#diffobjects" class="tsd-kind-icon">diff<wbr>Objects</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#filteriterable" class="tsd-kind-icon">filter<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#firstiniterable" class="tsd-kind-icon">first<wbr>InIterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#flatmapiterable" class="tsd-kind-icon">flat<wbr>Map<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#foreachiniterable" class="tsd-kind-icon">for<wbr>Each<wbr>InIterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#isemptyiterable" class="tsd-kind-icon">is<wbr>Empty<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#isobject" class="tsd-kind-icon">is<wbr>Object</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#iterablesequal" class="tsd-kind-icon">iterables<wbr>Equal</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#knows" class="tsd-kind-icon">knows</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#lexicographiccompare" class="tsd-kind-icon">lexicographic<wbr>Compare</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#mapiterable" class="tsd-kind-icon">map<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#mapprop" class="tsd-kind-icon">map<wbr>Prop</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#mapsequal" class="tsd-kind-icon">maps<wbr>Equal</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#maxreducer" class="tsd-kind-icon">max<wbr>Reducer</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#memoizestrong" class="tsd-kind-icon">memoize<wbr>Strong</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#memoizeweak" class="tsd-kind-icon">memoize<wbr>Weak</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#minreducer" class="tsd-kind-icon">min<wbr>Reducer</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#numbercompare" class="tsd-kind-icon">number<wbr>Compare</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#objectentries" class="tsd-kind-icon">object<wbr>Entries</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#objectkeys" class="tsd-kind-icon">object<wbr>Keys</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#objectprop" class="tsd-kind-icon">object<wbr>Prop</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#objectvalues" class="tsd-kind-icon">object<wbr>Values</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#objectsequal" class="tsd-kind-icon">objects<wbr>Equal</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#orreducer" class="tsd-kind-icon">or<wbr>Reducer</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#rangeiterable" class="tsd-kind-icon">range<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#reduceiterable" class="tsd-kind-icon">reduce<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#reversearray" class="tsd-kind-icon">reverse<wbr>Array</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#reversecompare" class="tsd-kind-icon">reverse<wbr>Compare</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#reverseiterable" class="tsd-kind-icon">reverse<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#rootview" class="tsd-kind-icon">root<wbr>View</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#scaniterable" class="tsd-kind-icon">scan<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#setinmap" class="tsd-kind-icon">set<wbr>InMap</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#setprop" class="tsd-kind-icon">set<wbr>Prop</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#setsequal" class="tsd-kind-icon">sets<wbr>Equal</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#slicearray" class="tsd-kind-icon">slice<wbr>Array</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#sliceiterable" class="tsd-kind-icon">slice<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#slicereversedarray" class="tsd-kind-icon">slice<wbr>Reversed<wbr>Array</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#slicereversediterable" class="tsd-kind-icon">slice<wbr>Reversed<wbr>Iterable</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#sortarray" class="tsd-kind-icon">sort<wbr>Array</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#stringcompare" class="tsd-kind-icon">string<wbr>Compare</a>
					</li>
					<li class=" tsd-kind-function tsd-is-external">
						<a href="globals.html#sumreducer" class="tsd-kind-icon">sum<wbr>Reducer</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#teach" class="tsd-kind-icon">teach</a>
					</li>
					<li class=" tsd-kind-function tsd-has-type-parameter tsd-is-external">
						<a href="globals.html#zipiterables" class="tsd-kind-icon">zip<wbr>Iterables</a>
					</li>
					<li class=" tsd-kind-object-literal tsd-is-external">
						<a href="globals.html#firstiterable" class="tsd-kind-icon">first<wbr>Iterable</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>